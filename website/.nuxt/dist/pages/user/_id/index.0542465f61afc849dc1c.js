webpackJsonp([52],{FN0O:function(e,t){function a(e,t){t=t||{};for(var a,s,n,i,l,o=t.limit||100,c=void 0===t.preserveTags||t.preserveTags,u=void 0!==t.wordBreak&&t.wordBreak,g=t.suffix||"...",p=t.moreLink||"",f=t.moreText||"»",d=t.preserveWhiteSpace||!1,m=e.replace(/</g,"\n<").replace(/>/g,">\n").replace(/\n\n/g,"\n").replace(/^\n/g,"").replace(/\n$/g,"").split("\n"),h=0,v=[],C=!1,_=0;_<m.length;_++)if(a=m[_],rowCut=d?a:a.replace(/[ ]+/g," "),a.length){var b=r(rowCut);if("<"!==a[0])if(h>=o)a="";else if(h+b.length>=o){if(s=o-h," "===b[s-1])for(;s&&(s-=1," "===b[s-1]););else n=b.slice(s).indexOf(" "),u||(-1!==n?s+=n:s=a.length);a=b.slice(0,s).join("")+g,p&&(a+='<a href="'+p+'" style="display:inline">'+f+"</a>"),h=o,C=!0}else h+=b.length;else if(c){if(h>=o)if(i=a.match(/[a-zA-Z]+/),l=i?i[0]:"")if("</"!==a.substring(0,2))v.push(l),a="";else{for(;v[v.length-1]!==l&&v.length;)v.pop();v.length&&(a=""),v.pop()}else a=""}else a="";m[_]=a}return{html:m.join("\n").replace(/\n/g,""),more:C}}function r(e){for(var t,a,r,s=[],n=0;n<rowCut.length;n++)t=rowCut.substring(n),a=t.match(/^&[a-z0-9#]+;/),a?(r=a[0],s.push(r),n+=r.length-1):s.push(rowCut[n]);return s}void 0!==e&&e.exports&&(e.exports=a)},Jr2T:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"articles-container"},[a("div",{staticClass:"article-top"},[a("div",[e._v(e._s(e.user&&e.user.id==this.currentId?"我":e.sex?"她":"他")+"的话题")])]),e.articles.length>0?[e._l(e.articles,function(t,r){return a("div",{staticClass:"articles-item",class:{"articles-item-no":0===r}},[a("h2",{staticClass:"articles-title"},[a("a",{attrs:{href:"/topic/"+t.id,target:"_blank"}},[e._v(e._s(t.name))])]),a("p",{staticClass:"articles-user-info"},[a("img",{staticClass:"articles-user-info-img",attrs:{src:t.user.avatarURL,alt:""}}),a("a",{staticClass:"articles-user-info-name"},[e._v(e._s(t.user.name))])]),a("div",{staticClass:"golang123-digest",domProps:{innerHTML:e._s(t.htmlContent)}})])}),a("div",{staticStyle:{"text-align":"center"}},[a("Page",{staticClass:"common-page",attrs:{current:e.pageNo,"page-size":e.pageSize,total:e.totalCount,"show-elevator":!0},on:{"on-change":e.onPageChange}})],1)]:a("div",{staticClass:"articles-item-empty"},[e._v("\n        还没有话题\n    ")])],2)},s=[],n={render:r,staticRenderFns:s};t.a=n},b1Yp:function(e,t,a){"use strict";var r={trimImg:function(e){return e=e.replace(/<\s*img\s+.*?\/?\s*>/g,"")},entity2HTML:function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'},a=/&(lt|gt|nbsp|amp|quot);/gi;return e.replace(a,function(e,a){return t[a]})}};t.a=r},fLGP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("fzrW"),s=a("Jr2T"),n=a("VU/8"),i=n(r.a,s.a,!1,null,null,null);t.default=i.exports},fzrW:function(e,t,a){"use strict";var r=a("FN0O"),s=a.n(r),n=a("V8bM"),i=a("b1Yp");t.a={data:function(){return{sex:0}},asyncData:function(e){return n.a.getUserArticles({client:e.req,params:{userID:e.params.id},query:{orderType:1,desc:1,pageNo:e.query.pageNo||1,pageSize:20}}).then(function(t){for(var a=t.data.articles||[],r=0;r<a.length;r++){var n='...&nbsp;&nbsp;<a href="/topic/'+a[r].id+'" target="_blank" class="golang123-digest-continue">继续阅读»</a>',l=s()(a[r].htmlContent,{limit:100,suffix:n,moreLink:!1}),o=l.html;if(o=i.a.trimImg(o),!l.more){o=s()(a[r].htmlContent,{limit:100,preserveTags:!1}).html+n}a[r].htmlContent=o}return{pageNo:t.data.pageNo,pageSize:t.data.pageSize,totalCount:t.data.totalCount,totalPage:t.data.totalPage,articles:a,userId:e.params.id,user:e.user,currentId:e.params.id}}).catch(function(t){console.log(t),e.error({statusCode:404,message:"Page not found"})})},mounted:function(){this.$data.sex=this.$parent.currentUser.sex},methods:{onPageChange:function(e){var t=this.userId;window.location.href="/user/"+t+"?pageNo="+e}}}}});
//# sourceMappingURL=index.0542465f61afc849dc1c.js.map