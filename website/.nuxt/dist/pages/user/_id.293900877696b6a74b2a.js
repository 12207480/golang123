webpackJsonp([27],{"/65E":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-header",{attrs:{user:t.user}}),i("div",{staticClass:"golang-home-body"},[i("div",{staticClass:"golang-main-top"},[i("div",{staticClass:"mine-img-box",style:{"background-image":"url("+t.currentUser.coverURL+")"}}),i("div",{staticClass:"mine-info-container"},[i("div",{staticClass:"mine-info-icon"},[i("img",{attrs:{src:t.avatarURL,alt:""}}),t.isAuthor?i("div",{staticClass:"mine-info-upload"},[i("Upload",{ref:"upload",staticStyle:{width:"160px",height:"160px"},attrs:{action:"",accept:"image/*","show-upload-list":!1,format:["jpg","jpeg","png"],"on-format-error":t.onFormatError,"before-upload":t.beforeUpload}},[i("Icon",{staticClass:"mine-info-upload-icon",attrs:{type:"camera"}}),i("p",[t._v("修改我的头像")])],1)],1):t._e(),i("Modal",{attrs:{width:"400"},model:{value:t.uploaderVisible,callback:function(e){t.uploaderVisible=e},expression:"uploaderVisible"}},[i("div",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("p",{attrs:{id:"uploader-pop-title"}},[t._v("编辑头像")]),i("p",{attrs:{id:"uploader-pop-subheading"}},[t._v("调整头像尺寸和位置")])]),i("div",{attrs:{id:"avatarUploader"}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary",long:""},on:{click:t.onUpload}},[t._v("保存")])],1)])],1),i("p",{staticClass:"mine-info-line mine-info-name"},[t._v(t._s(t.currentUser.name))]),i("p",{staticClass:"mine-info-line mine-info-item"},[i("span",{staticClass:"mine-info-value",class:1==t.currentUser.sex?"women":"male"},[i("Icon",{attrs:{type:"male"}}),t._v(t._s(1==t.currentUser.sex?"女":"男"))],1)]),i("p",{staticClass:"mine-info-line mine-info-item"},[i("span",{staticClass:"mine-info-desc text-italic"},[t._v(t._s(t.currentUser.signature?t.currentUser.signature:"这家伙很懒，什么个性签名都没有留下"))])]),t.user&&t.currentUser.id===t.user.id?i("a",{staticClass:"mine-info-btn",attrs:{href:"/user/edit"}},[i("button",{staticClass:"ivu-btn-large info-button"},[t._v("编辑个人资料")])]):t._e()])]),i("div",{staticClass:"golang-mine-content"},[i("div",{staticClass:"mine-content-left"},[i("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":t.activeMenu},on:{"on-select":t.onMenuSelect}},[i("Menu-item",{staticClass:"mine-menu-item",attrs:{name:"index"}},[t._v("话题")]),i("Menu-item",{staticClass:"mine-menu-item",attrs:{name:"reply"}},[t._v("回复")]),i("Menu-item",{staticClass:"mine-menu-item",attrs:{name:"vote"}},[t._v("参与的投票")]),i("Menu-item",{staticClass:"mine-menu-item",attrs:{name:"collect"}},[t._v("收藏")])],1),i("nuxt-child")],1),i("div",{staticClass:"mine-content-right"},[i("div",{staticClass:"mine-attention-box"},[i("div",{staticClass:"attention-item right-border"},[i("a",{staticStyle:{display:"block"},attrs:{id:"topicCountBox",href:"/user/"+t.currentUser.id}},[i("p",{staticClass:"attention-item-label"},[t._v("话题数")]),i("p",{staticClass:"attention-item-num",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.currentUser.articleCount))])])]),i("div",{staticClass:"attention-item"},[i("a",{staticStyle:{display:"block"},attrs:{id:"replyCountBox",href:"/user/"+t.currentUser.id+"/reply"}},[i("p",{staticClass:"attention-item-label"},[t._v("回复数")]),i("p",{staticClass:"attention-item-num",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.currentUser.commentCount))])])])])])])]),i("app-footer")],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},"/myT":function(t,e,i){"use strict";var n=i("V8bM"),a=i("y8ae");i("9oAv");e.a={props:["user"],data:function(){return{q:"",userData:this.user}},methods:{onSearch:function(){var t="http://zhannei.baidu.com/cse/search?s=2990237584871814305&entry=1&q="+encodeURIComponent(this.q);window.open(t)},onSignin:function(){location.href="/signin?ref="+encodeURIComponent(location.href)},onSignout:function(){var t=this;n.a.logout().then(function(e){e.errNo===a.a.SUCCESS&&(t.userData=null,window.location.href="/signin")}).catch(function(t){console.log(t)})}},mounted:function(){}}},"1zF1":function(t,e,i){var n=i("J5qy");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("3d0b3a19",n,!0)},"9oAv":function(t,e,i){"use strict";var n=i("FhoZ"),a=i.n(n);if(a.a.bdStatEnable&&"undefined"!=typeof window){!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?"+a.a.bdStatSI;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}},Bv19:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"golang-top-header"},[i("div",{staticClass:"golang-top-box"},[i("div",{staticClass:"golang-top-header-left"},[t._m(0),i("div",{staticClass:"golang-header-search"},[i("form",{staticClass:"golang-top-search",attrs:{action:"",target:"_blank",method:"get"},on:{submit:function(e){e.preventDefault(),t.onSearch(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"golang-top-input",attrs:{type:"text",name:"topSearch"},domProps:{value:t.q},on:{input:function(e){e.target.composing||(t.q=e.target.value)}}})])])]),t._m(1),i("div",{staticClass:"golang-top-header-right"},[i("ul",[t._m(2),t._m(3),t.userData?[i("li",[i("Tooltip",{attrs:{trigger:"hover",title:"提示标题",placement:"bottom"}},[i("a",{staticClass:"header-usre-box",attrs:{href:"/user/"+t.user.id}},[i("span",{staticClass:"header-avatar"},[i("img",{attrs:{src:t.user.avatarURL,alt:""}})]),i("span",{staticClass:"header-user-name"},[t._v(t._s(t.user.name))])]),i("ul",{staticClass:"header-user-box",attrs:{slot:"content"},slot:"content"},[i("li",[i("a",{attrs:{href:"/user/"+t.user.id}},[t._v("个人首页")])]),i("li",[i("a",{attrs:{href:"/ac/pwdModify"}},[t._v("修改密码")])]),i("li",{on:{click:t.onSignout}},[t._v("退  出")])])])],1)]:[i("a",{on:{click:t.onSignin}},[i("li",[t._v("登录")])]),t._m(4)]],2)])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"golang-logo-container"},[i("a",{attrs:{href:"/"}},[t._v("Golang123")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"golang-top-header-nav"},[i("ul",[i("li",[i("a",{attrs:{href:"/"}},[t._v("首页")])]),i("li",[i("a",{attrs:{href:"/vote"}},[t._v("投票")])]),i("li",[i("a",{attrs:{href:"/timeline"}},[t._v("成长历史")])]),i("li",[i("a",{attrs:{href:"/about"}},[t._v("关于")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"https://github.com/shen100/golang123",target:"_blank"}},[t._v("golang123源码")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"https://github.com/shen100/golang123/issues",target:"_blank"}},[t._v("问题反馈")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"/signup"}},[i("li",[t._v("注册")])])}],o={render:n,staticRenderFns:a};e.a=o},Gazl:function(t,e,i){var n=i("W+np");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("431588cd",n,!0)},J3Se:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"golang-footer"},[i("div",{staticClass:"golang-footer-page-link"},[i("a",{attrs:{href:"https://github.com/shen100/golang123",target:"_blank"}},[i("div",{staticClass:"golang-footer-github"},[i("Icon",{staticStyle:{"margin-right":"1px"},attrs:{type:"social-github"}})],1),i("span",{staticStyle:{"margin-left":"2px"}},[t._v("Github")])]),i("span",[t._v("  | ")]),i("a",{attrs:{href:"https://github.com/shen100/golang123/issues",target:"_blank"}},[t._v("问题反馈")]),i("span",[t._v("  |  ")]),i("a",{attrs:{href:"/vote"}},[t._v("投票")]),i("span",[t._v("  |  ")]),i("a",{attrs:{href:"/rank"}},[t._v("积分榜")]),i("span",[t._v("  |  ")]),i("a",{attrs:{href:"/links"}},[t._v("友情链接")]),i("span",[t._v("  |  ")]),i("a",{attrs:{href:"/timeline"}},[t._v("成长历史")]),i("span",[t._v("  |  ")]),i("a",{attrs:{href:"/about"}},[t._v("关于我们")])]),t._m(0)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"golang-footer-copyright"},[i("span",[t._v("© 2017 "),i("a",{attrs:{href:"/"}},[t._v("golang中文社区")]),t._v(" "),i("a",{attrs:{href:"/"}},[t._v("golang123.com")]),t._v(" 版权所有")]),i("span",[t._v(" | ")]),i("span",[t._v("京ICP备12045181号-2")])])}],o={render:n,staticRenderFns:a};e.a=o},J5qy:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"",""])},LHrw:function(t,e,i){"use strict";function n(t){i("Gazl")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("Q1kI"),o=i("/65E"),r=i("VU/8"),s=n,l=r(a.a,o.a,!1,s,null,null);e.default=l.exports},Q1kI:function(t,e,i){"use strict";var n=i("mtWM"),a=i.n(n),o=i("y8ae"),r=i("V8bM"),s=i("YXP+"),l=i("yqLL"),c=i("FhoZ"),p=i.n(c);e.a={name:"userHome",data:function(){return{activeMenu:"index",uploaderVisible:!1,uploadURL:p.a.apiURL+"/user/updateavatar",croppie:null,file:null,sizeLimit:3145728,sizeLimitTip:"3M"}},validate:function(t){return!!t.params.id},asyncData:function(t){return r.a.getPublicUser({client:t.req,params:{id:t.params.id}}).then(function(e){if(e.errNo===o.a.SUCCESS){var i=e.data.user;return{isAuthor:t.user&&t.user.id===i.id,user:t.user,currentUser:i,avatarURL:i.avatarURL}}t.error({statusCode:404,message:"Page not found"})}).catch(function(e){console.log(e),t.error({statusCode:404,message:"Page not found"})})},head:function(){return{title:this.currentUser.name,link:[{rel:"stylesheet",href:"/styles/editor/simplemde.min.css"},{rel:"stylesheet",href:"/styles/croppie/croppie.min.css"}],script:[{src:"/javascripts/croppie/croppie.min.js"}]}},mounted:function(){var t=this.$route.path.split("/");t[3]&&(this.activeMenu=t[3])},methods:{onFormatError:function(){this.$Message.error("不是有效的图片格式")},beforeUpload:function(t){var e=this;if(this.file=t,t.size>this.sizeLimit)return void this.$Message.error("图片大小要小于"+this.sizeLimitTip);this.uploaderVisible=!this.uploaderVisible;var i=document.getElementById("avatarUploader");i.innerHTML="",this.croppie=null;var n=new FileReader;n.addEventListener("load",function(){setTimeout(function(){var t={url:n.result,boundary:{width:240,height:240},viewport:{width:160,height:160,type:"square"}};e.croppie=new window.Croppie(i,t)},200)}),n.readAsDataURL(t)},onUpload:function(){var t=this;this.croppie&&this.croppie.result("blob").then(function(e){var i=new FormData;i.append("upFile",e,t.file.name);var n={headers:{"Content-Type":"multipart/form-data"}};a.a.post(t.uploadURL,i,n).then(function(e){var i=e.data;i.errNo===o.a.SUCCESS?(t.avatarURL=i.data.url,t.currentUser.avatarURL=i.data.url,t.isAuthor&&(t.user.avatarURL=i.data.url),t.uploaderVisible=!1):t.$Message.error(i.msg)})})},onMenuSelect:function(t){window.location.href="index"===t?"/user/"+this.currentUser.id:"/user/"+this.currentUser.id+"/"+t}},middleware:"userInfo",components:{"app-header":s.a,"app-footer":l.a}}},"W+np":function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"body{background-color:#e1e1e1}.golang-main-top{position:relative;border-radius:3px;overflow:hidden}.mine-img-box{min-height:140px;background-color:#96a1a9;background-size:cover;background-position:50%;background-repeat:no-repeat}.mine-info-container{position:relative;height:120px;padding:10px;background-color:#fff}.mine-edit-container{position:relative;padding:20px;background-color:#fff}.mine-info-icon{cursor:default;position:absolute;top:-80px;left:20px;padding:5px;background-color:#fff;border-radius:3px;width:160px;height:160px;z-index:2}.mine-info-icon img{width:100%}.mine-info-line{margin-left:200px}.mine-info-upload{cursor:pointer;opacity:0;-webkit-transition:all .3s ease-in;transition:all .3s ease-in;width:100%;height:100%;z-index:3;background-color:rgba(0,0,0,.5);border-radius:3px;overflow:hidden;position:absolute;left:0;top:0;text-align:center}.mine-info-icon:hover .mine-info-upload{opacity:1}.mine-info-upload img{width:48px;height:48px}.mine-info-upload p{font-size:14px;color:#fff;font-weight:700;letter-spacing:.1em;margin-top:10px}.mine-info-upload-icon{font-size:50px;color:#fff;margin-top:40px}.mine-info-name{font-size:26px;font-weight:700}.mine-info-desc{font-size:14px;color:#8590a6;margin-top:20px}.mine-info-btn{position:absolute;right:20px;top:30px}.golang-mine-content{margin-top:20px}.mine-content-left{width:900px;display:inline-block;min-height:300px;border-radius:3px;padding:0 20px 20px;overflow:hidden;background-color:#fff}.mine-content-right{width:288px;float:right}.right-border{border-right:1px solid #ccd8e1}.mine-attention-box{background-color:#fff;border-radius:3px;overflow:hidden;padding:10px 0}.attention-item{padding:5px 0;width:50%;display:inline-block}.attention-item p{text-align:center;margin-bottom:5px}.attention-item-label{font-size:14px;color:#8590a6}.attention-item-num{color:#000;font-size:18px}.attention-item:hover p{color:#2d8cf0;cursor:default}.mine-menu-item{text-align:center;margin-right:40px;padding:0!important}.article-top{padding:15px 0;border-bottom:1px solid #e5e5e5}.article-top div{font-size:15px;font-weight:600;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif}.articles-title{font-size:18px;margin-top:10px}.articles-title a:hover{color:#2d8cf0;text-decoration:none}.articles-user-info{margin-top:5px}.articles-user-info img{width:30px;height:30px}.articles-user-info span{line-height:30px;display:inline-block;vertical-align:bottom;color:#8590a6;font-size:14px;margin-left:5px}.golang123-editor{overflow:hidden;margin-top:5px}.articles-item{padding:15px 0;border-top:1px solid #e5e5e5}.articles-item-no{border:0}.articles-hidden{max-height:100px}.articles-button{text-align:right;margin-top:5px;margin-right:10px}.articles-button a{font-size:14px;color:#8590a6}.articles-button .ivu-icon{margin-left:5px;font-size:12px}.articles-item-empty{line-height:200px;font-size:14px;color:#8590a6;text-align:center}.mine-info-item{margin-top:10px;font-size:14px}.mine-info-label{line-height:30px;width:100px;font-weight:700;display:inline-block}.mine-edit-form{width:800px;margin-top:20px}.mine-edit-form,.mine-info-box{margin-left:200px}.mine-info-edit-top{margin-top:30px}.mine-info-edit,.mine-info-edit-top{font-size:14px;padding-top:30px;padding-bottom:30px}.mine-info-edit{border-top:1px solid #e5e5e5}.mine-info-value{display:inline-block;min-width:200px}.mine-info-value .ivu-icon{margin-right:5px}.mine-info-value:hover .edit-action{display:inline}.edit-action{display:none;color:#175199;cursor:pointer}.edit-action .ivu-icon{margin-right:0}.edit-item{display:inline-block;vertical-align:top}.edit-item .ivu-radio-wrapper{margin-right:30px}.radio-label{font-size:14px}.button-box{margin-top:20px}.button-seq{margin-right:20px}.home-link-box{float:right;font-size:14px;color:#8590a6}.home-link-box:hover{color:#8590a6}.schools-item{margin-left:100px;padding:10px;font-size:15px;color:#262626;font-weight:600;width:400px}.schools-item:hover{background-color:#f7f8fa;border-radius:4px}.schools-item:hover .schools-delete{display:inline}.schools-delete{float:right;cursor:pointer;display:none}.mine-info-edit .schools-item:first-of-type{margin-top:10px}.male{color:#2196f3}.women{color:#fb8db2}.collect-line{margin-top:10px}.collect-line span{color:#8590a6;font-size:14px}#uploader-pop-title{font-size:24px;font-weight:500;line-height:normal;height:32px;color:#262626}#uploader-pop-subheading{color:#8590a6}#avatarUploader{min-height:294px}#topicCountBox{text-decoration:none}#topicCountBox p{cursor:pointer;-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}#replyCountBox{text-decoration:none}#replyCountBox p{cursor:pointer;-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}",""])},"YXP+":function(t,e,i){"use strict";function n(t){i("1zF1")}var a=i("/myT"),o=i("Bv19"),r=i("VU/8"),s=n,l=r(a.a,o.a,!1,s,null,null);e.a=l.exports},yqLL:function(t,e,i){"use strict";var n=i("J3Se"),a=i("VU/8"),o=a(null,n.a,!1,null,null,null);e.a=o.exports}});
//# sourceMappingURL=_id.293900877696b6a74b2a.js.map