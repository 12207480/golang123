webpackJsonp([16],{"/myT":function(t,e,a){"use strict";var s=a("V8bM"),n=a("y8ae"),r=a("b1Yp"),i=a("FN0O"),o=a.n(i);a("9oAv"),a("ookB");e.a={props:["user","messages","messageCount"],data:function(){return{q:"",userData:this.user,isInputFocus:!1,userMessages:[]}},methods:{onSearch:function(){var t="http://zhannei.baidu.com/cse/search?s=2990237584871814305&entry=1&q="+encodeURIComponent(this.q);window.open(t)},onInputFocus:function(){this.isInputFocus=!0},onInputBlur:function(){this.isInputFocus=!1},onReadMessage:function(t){s.a.readMessage({params:{id:t.id}}).then(function(){t.readed=!0})},onSignin:function(){location.href="/signin?ref="+encodeURIComponent(location.href)},onSignout:function(){var t=this;s.a.logout().then(function(e){e.errNo===n.a.SUCCESS&&(t.userData=null,window.location.href="/signin")}).catch(function(t){console.log(t)})}},mounted:function(){for(var t=this.messages||[],e=t.slice(0),a=0;a<e.length;a++){if("messageTypeCommentComment"===e[a].type){var s=o()(e[a].data.commentContent,{limit:15,wordBreak:!0,suffix:"...",preserveTags:!1,moreLink:!1}),n=s.html;n=r.a.trimImg(n),e[a].data.commentContent=n}var i=e[a].data.title||"";i.length>15&&(e[a].data.title=i.substr(0,15)+"..."),e[a].readed=!1}this.userMessages=e}}},"4tW9":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"",""])},"809C":function(t,e,a){var s=a("AYVT");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("f23cb978",s,!0)},"9oAv":function(t,e,a){"use strict";var s=a("FhoZ"),n=a.n(s);if(n.a.bdStatEnable&&"undefined"!=typeof window){!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?"+n.a.bdStatSI;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}},AYVT:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"body{background-color:#e1e1e1}.rank-container{padding:10px;width:900px;min-height:400px;background-color:#fff}.rank-container .ivu-table:after,.rank-container .ivu-table:before{height:0}.ivu-table td,.ivu-table th,.rank-container .ivu-table-wrapper{border:0}.ivu-table th{background-color:#fff}.top100-label{color:#999}.rank-line-active td{background-color:#f9f9f9}.rank-line-list-link{display:block;line-height:30px;height:30px}.rank-line-list-link span{display:inline-block;vertical-align:text-bottom;color:#778087}.rank-line-list-link span:hover{text-decoration:underline}.rank-line-list-img{width:30px;height:30px;margin-right:5px}th .ivu-table-cell{font-weight:700}",""])},FN0O:function(t,e){function a(t,e){e=e||{};for(var a,n,r,i,o,l=e.limit||100,c=void 0===e.preserveTags||e.preserveTags,u=void 0!==e.wordBreak&&e.wordBreak,g=e.suffix||"...",m=e.moreLink||"",d=e.moreText||"»",p=e.preserveWhiteSpace||!1,f=t.replace(/</g,"\n<").replace(/>/g,">\n").replace(/\n\n/g,"\n").replace(/^\n/g,"").replace(/\n$/g,"").split("\n"),v=0,h=[],_=!1,C=0;C<f.length;C++)if(a=f[C],rowCut=p?a:a.replace(/[ ]+/g," "),a.length){var b=s(rowCut);if("<"!==a[0])if(v>=l)a="";else if(v+b.length>=l){if(n=l-v," "===b[n-1])for(;n&&(n-=1," "===b[n-1]););else r=b.slice(n).indexOf(" "),u||(-1!==r?n+=r:n=a.length);a=b.slice(0,n).join("")+g,m&&(a+='<a href="'+m+'" style="display:inline">'+d+"</a>"),v=l,_=!0}else v+=b.length;else if(c){if(v>=l)if(i=a.match(/[a-zA-Z]+/),o=i?i[0]:"")if("</"!==a.substring(0,2))h.push(o),a="";else{for(;h[h.length-1]!==o&&h.length;)h.pop();h.length&&(a=""),h.pop()}else a=""}else a="";f[C]=a}return{html:f.join("\n").replace(/\n/g,""),more:_}}function s(t){for(var e,a,s,n=[],r=0;r<rowCut.length;r++)e=rowCut.substring(r),a=e.match(/^&[a-z0-9#]+;/),a?(s=a[0],n.push(s),r+=s.length-1):n.push(rowCut[r]);return n}void 0!==t&&t.exports&&(t.exports=a)},FoGE:function(t,e,a){"use strict";e.a={props:["user","userLoginVisible","score","maxComment","maxBrowse","pubTopic","author","score","maxComment","recentArticles","votesMaxBrowse","votesMaxComment"],data:function(){return{}},mounted:function(){},methods:{onSignin:function(){location.href="/signin?ref="+encodeURIComponent(location.href)}}}},GUey:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-top-header"},[a("div",{staticClass:"golang-top-box"},[a("div",{staticClass:"golang-top-header-left"},[t._m(0),a("div",{staticClass:"golang-header-search"},[a("form",{staticClass:"golang-top-search",attrs:{action:"",target:"_blank",method:"get"},on:{submit:function(e){e.preventDefault(),t.onSearch(e)}}},[a("p",{staticStyle:{position:"relative"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"golang-top-input",style:{border:t.isInputFocus?"1px #a2a2a2 solid":"1px #e3e3e3 solid"},attrs:{type:"text",name:"topSearch"},domProps:{value:t.q},on:{focus:t.onInputFocus,blur:t.onInputBlur,input:function(e){e.target.composing||(t.q=e.target.value)}}}),a("span",{staticClass:"search-icon"})])])])]),t._m(1),a("div",{staticClass:"golang-top-header-right"},[a("ul",[t._m(2),t._m(3),t.userData?[a("li",{staticClass:"user-message-wrapbox"},[t.userMessages.length?a("Tooltip",{attrs:{trigger:"hover",title:"提示标题",placement:"bottom"}},[a("a",{staticClass:"user-message-box",attrs:{href:""}},[a("Icon",{staticClass:"user-message",attrs:{type:"ios-bell-outline"}}),a("span",{staticClass:"user-message-tip-count"},[t._v(t._s(t.messageCount))])],1),a("ul",{staticClass:"header-message-list",attrs:{slot:"content"},slot:"content"},t._l(t.userMessages,function(e){return a("li",["messageTypeCommentArticle"===e.type?a("p",{staticClass:"header-message-item"},[a("a",{staticClass:"header-message-user",attrs:{href:"/user/"+e.fromUser.id,target:"_blank"}},[t._v(t._s(e.fromUser.name))]),t._v(" 回复了你的话题 "),a("a",{staticClass:"header-message-content",style:{color:e.readed?"#a0a3a4":""},attrs:{href:"/topic/"+e.sourceID+"/#reply-"+e.commentID,target:"_blank"},on:{click:function(a){t.onReadMessage(e)}}},[t._v(t._s(e.data.title))])]):"messageTypeCommentVote"===e.type?a("p",{staticClass:"header-message-item"},[a("a",{staticClass:"header-message-user",attrs:{href:"/user/"+e.fromUser.id,target:"_blank"}},[t._v(t._s(e.fromUser.name))]),t._v(" 回复了你的投票 "),a("a",{staticClass:"header-message-content",style:{color:e.readed?"#a0a3a4":""},attrs:{href:"/vote/"+e.sourceID+"/#reply-"+e.commentID,target:"_blank"},on:{click:function(a){t.onReadMessage(e)}}},[t._v(t._s(e.data.title))])]):"messageTypeCommentComment"===e.type?a("p",{staticClass:"header-message-item"},[a("a",{staticClass:"header-message-user",attrs:{href:"/user/"+e.fromUser.id,target:"_blank"}},[t._v(t._s(e.fromUser.name))]),t._v(" 回复了你 "),a("a",{staticClass:"header-message-content",style:{color:e.readed?"#a0a3a4":""},attrs:{href:"article"===e.sourceName?"/topic/"+e.sourceID+"/#reply-"+e.commentID:"/vote/"+e.sourceID+"/#reply-"+e.commentID,target:"_blank"},on:{click:function(a){t.onReadMessage(e)}}},[t._v(t._s(e.data.commentContent))])]):t._e()])}))]):a("a",{staticClass:"user-message-box",attrs:{href:""}},[a("Icon",{staticClass:"user-message",attrs:{type:"ios-bell-outline"}})],1)],1),a("li",{staticStyle:{"padding-right":"0"}},[a("Tooltip",{attrs:{trigger:"hover",title:"提示标题",placement:"bottom"}},[a("a",{staticClass:"header-usre-box",attrs:{href:"/user/"+t.user.id}},[a("span",{staticClass:"header-avatar"},[a("img",{attrs:{src:t.user.avatarURL,alt:""}})]),a("span",{staticClass:"header-user-name"},[t._v(t._s(t.user.name))])]),a("ul",{staticClass:"header-user-box",attrs:{slot:"content"},slot:"content"},[a("li",[a("a",{attrs:{href:"/user/"+t.user.id}},[t._v("个人主页")])]),a("li",[a("a",{attrs:{href:"/ac/pwdModify"}},[t._v("修改密码")])]),a("li",{on:{click:t.onSignout}},[t._v("退  出")])])])],1)]:[a("a",{on:{click:t.onSignin}},[a("li",{staticStyle:{color:"#333"}},[t._v("登录")])]),t._m(4)]],2)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-logo-container"},[a("a",{attrs:{href:"/"}},[a("img",{attrs:{src:"/images/logo.png"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-top-header-nav"},[a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("li",[a("a",{attrs:{href:"/vote"}},[t._v("投票")])]),a("li",[a("a",{attrs:{href:"/timeline"}},[t._v("成长历史")])]),a("li",[a("a",{attrs:{href:"/about"}},[t._v("关于")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/shen100/golang123",target:"_blank"}},[t._v("golang123源码")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/shen100/golang123/issues",target:"_blank"}},[t._v("问题反馈")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"/signup"}},[a("li",{staticStyle:{color:"#333"}},[t._v("注册")])])}],r={render:s,staticRenderFns:n};e.a=r},J3Se:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-footer"},[a("div",{staticClass:"golang-footer-page-link"},[a("a",{attrs:{href:"https://github.com/shen100/golang123",target:"_blank"}},[a("div",{staticClass:"golang-footer-github"},[a("Icon",{staticStyle:{"margin-right":"1px"},attrs:{type:"social-github"}})],1),a("span",{staticStyle:{"margin-left":"2px"}},[t._v("Github")])]),a("span",[t._v("  | ")]),a("a",{attrs:{href:"https://github.com/shen100/golang123/issues",target:"_blank"}},[t._v("问题反馈")]),a("span",[t._v("  |  ")]),a("a",{attrs:{href:"/vote"}},[t._v("投票")]),a("span",[t._v("  |  ")]),a("a",{attrs:{href:"/rank"}},[t._v("积分榜")]),a("span",[t._v("  |  ")]),a("a",{attrs:{href:"/links"}},[t._v("友情链接")]),a("span",[t._v("  |  ")]),a("a",{attrs:{href:"/timeline"}},[t._v("成长历史")]),a("span",[t._v("  |  ")]),a("a",{attrs:{href:"/about"}},[t._v("关于我们")])]),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-footer-copyright"},[a("span",[t._v("© 2017 "),a("a",{attrs:{href:"/"}},[t._v("golang中文社区")]),t._v(" "),a("a",{attrs:{href:"/"}},[t._v("golang123.com")]),t._v(" 版权所有")]),a("span",[t._v(" | ")]),a("span",[t._v("京ICP备12045181号-2")])])}],r={render:s,staticRenderFns:n};e.a=r},KcGc:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header",{attrs:{user:t.user}}),a("div",{staticClass:"common-body-box"},[a("div",{staticClass:"common-body-main"},[t._m(0),a("div",{staticClass:"rank-container"},[a("Table",{staticClass:"rank-list",attrs:{rowClassName:t.rowClassName,data:t.topList,columns:t.columns}})],1)]),a("app-sidebar",{attrs:{score:t.score,user:t.user,userLoginVisible:!0,maxComment:t.maxComment,pubTopic:!0,maxBrowse:t.maxBrowse}})],1),a("app-footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"common-body-nav"},[a("li",[a("a",{attrs:{href:"/"}},[a("span",[t._v("主页")])])]),a("li",{staticClass:"common-body-nav-sep"},[a("span",[t._v("/")])]),a("li",[a("span",{staticClass:"top100-label"},[t._v("Top 100 积分榜")])])])}],r={render:s,staticRenderFns:n};e.a=r},LksS:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"",""])},RsKN:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"golang-home-body-right"},[!t.user&&t.userLoginVisible?[a("div",{staticClass:"golang-cell golang-user-info"},[a("p",[t._v("golang中文社区")]),a("p",[t._v("您可以"),a("a",{staticClass:"golang-user-info-action sidebar-user-signin",on:{click:t.onSignin}},[t._v("登录")]),t._v("或"),a("a",{staticClass:"golang-user-info-action sidebar-user-signup",attrs:{href:"/signup"}},[t._v("注册")])])])]:t._e(),t.user&&t.pubTopic?a("div",{staticClass:"golang-user-publish"},[t._m(0)]):t._e(),t.author?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("作者信息")]),a("div",{staticClass:"golang-user-info",staticStyle:{"padding-top":"16px"}},[a("div",[a("a",{staticClass:"golang-sidebar-icon-box",attrs:{href:"/user/"+t.author.id,target:"_blank"}},[a("img",{staticClass:"golang-user-info-icon",attrs:{src:t.author.avatarURL,alt:""}})]),a("span",{staticClass:"golang-sidebar-info-box"},[a("a",{attrs:{href:"/user/"+t.author.id,target:"_blank"}},[t._v(t._s(t.author.name))])])]),a("div",{staticClass:"golang-user-line author-info-text"},[t._v("\n                    积分: "+t._s(t.author.score)+"\n                ")]),a("div",{staticClass:"golang-user-line author-info-text text-italic"},[t._v(t._s(t.author.signature||"这家伙很懒，什么个性签名都没有留下"))])])]):t._e(),t.recentArticles&&t.recentArticles.length?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("作者近期话题")]),a("ul",t._l(t.recentArticles,function(e){return a("li",{staticClass:"golang-cell-item"},[a("a",{staticClass:"sidebar-articles-title",attrs:{href:"/topic/"+e.id,target:"_blank"}},[t._v(t._s(e.name))])])}))]):t._e(),t.score?a("div",{staticClass:"golang-cell"},[t._m(1),a("ul",t._l(t.score,function(e){return a("li",{staticClass:"golang-cell-item"},[a("span",{staticClass:"golang-score-item"},[t._v(t._s(e.score))]),a("span",{staticClass:"golang-score-item"},[a("a",{staticClass:"user-page-link",attrs:{href:"/user/"+e.id,target:"_blank"}},[t._v(t._s(e.name))])])])}))]):t._e(),t.maxBrowse?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("热门话题")]),a("ul",t._l(t.maxBrowse,function(e){return a("li",{staticClass:"golang-cell-item"},[a("a",{staticClass:"sidebar-articles-title",attrs:{href:"/topic/"+e.id,target:"_blank"}},[t._v(t._s(e.name))])])}))]):t._e(),t.maxComment?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("回复最多的话题")]),a("ul",t._l(t.maxComment,function(e){return a("li",{staticClass:"golang-cell-item"},[a("a",{staticClass:"sidebar-articles-title",attrs:{href:"/topic/"+e.id,target:"_blank"}},[t._v(t._s(e.name))])])}))]):t._e(),t.votesMaxBrowse?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("热门投票")]),a("ul",t._l(t.votesMaxBrowse,function(e){return a("li",{staticClass:"golang-cell-item"},[a("a",{staticClass:"sidebar-articles-title",attrs:{href:"/vote/"+e.id}},[t._v(t._s(e.name))])])}))]):t._e(),t.votesMaxComment?a("div",{staticClass:"golang-cell"},[a("div",{staticClass:"title"},[t._v("回复最多的投票")]),a("ul",t._l(t.votesMaxComment,function(e){return a("li",{staticClass:"golang-cell-item"},[a("a",{staticClass:"sidebar-articles-title",attrs:{href:"/vote/"+e.id}},[t._v(t._s(e.name))])])}))]):t._e(),t._m(2)],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"/topic/create"}},[a("button",{staticClass:"signup-button ivu-btn ivu-btn-primary ivu-btn-large"},[t._v("发布话题")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[t._v("积分榜"),a("a",{staticClass:"top100-link",attrs:{href:"/rank",target:"_blank"}},[t._v("TOP 100>>")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sideAd1"}},[a("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=1kjxjjg7&productCode=qingcloud&utm_source=1kjxjjg7",target:"_blank"}},[a("img",{attrs:{src:"/images/ad/aliyun/side.300x300.jpg"}})])])}],r={render:s,staticRenderFns:n};e.a=r},Xx2u:function(t,e,a){var s=a("4tW9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("ab216b16",s,!0)},"YXP+":function(t,e,a){"use strict";function s(t){a("oXG0")}var n=a("/myT"),r=a("GUey"),i=a("VU/8"),o=s,l=i(n.a,r.a,!1,o,null,null);e.a=l.exports},b1Yp:function(t,e,a){"use strict";var s={trimImg:function(t){return t=t.replace(/<\s*img\s+.*?\/?\s*>/g,"")},entity2HTML:function(t){var e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'},a=/&(lt|gt|nbsp|amp|quot);/gi;return t.replace(a,function(t,a){return e[a]})}};e.a=s},"bKp+":function(t,e,a){"use strict";var s=a("//Fk"),n=a.n(s),r=a("V8bM"),i=a("YXP+"),o=a("tLe7"),l=a("yqLL");e.a={data:function(){return{columns:[{title:"#",key:"index"},{title:"用户名",key:"name",render:function(t,e){return t("a",{class:"rank-line-list-link",attrs:{href:"/user/"+e.row.id}},[t("img",{class:"rank-line-list-img",attrs:{src:e.row.avatarURL}}),t("span",{class:"rank-line-list"},e.row.name)])}},{title:"积分",key:"score"},{title:"话题数",key:"articleCount"},{title:"回复数",key:"commentCount"}]}},asyncData:function(t){return n.a.all([r.a.getTop10({client:t.req}),r.a.getMaxComment({client:t.req}),r.a.getMaxBrowse({client:t.req}),r.a.getTop100({client:t.req})]).then(function(e){var a=t.user,s=e[0].data.users,n=e[1].data.articles||[],r=e[2].data.articles||[],i=e[3].data.users||[];return i.map(function(t,e){t.index=e+1}),{score:s,user:a,maxComment:n,maxBrowse:r,topList:i}}).catch(function(e){console.log(e),t.error({statusCode:404,message:"Page not found"})})},middleware:"userInfo",methods:{rowClassName:function(t,e){return e%2?"":"rank-line-active"}},head:function(){return{title:"积分榜"}},components:{"app-header":i.a,"app-footer":l.a,"app-sidebar":o.a}}},ngjW:function(t,e,a){"use strict";function s(t){a("809C")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("bKp+"),r=a("KcGc"),i=a("VU/8"),o=s,l=i(n.a,r.a,!1,o,null,null);e.default=l.exports},oXG0:function(t,e,a){var s=a("LksS");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("b90baa4c",s,!0)},ookB:function(t,e,a){"use strict";var s=a("FhoZ");if(a.n(s).a.adsenseID&&"undefined"!=typeof window){var n=document.createElement("script");n.async=!0,n.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";var r="(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: '"+adsenseID+"',enable_page_level_ads: true});",i=document.createElement("script");i.innerHTML=r;var o=document.getElementsByTagName("head");o&&o[0]&&(o[0].appendChild(n),o[0].appendChild(i))}},tLe7:function(t,e,a){"use strict";function s(t){a("Xx2u")}var n=a("FoGE"),r=a("RsKN"),i=a("VU/8"),o=s,l=i(n.a,r.a,!1,o,null,null);e.a=l.exports},yqLL:function(t,e,a){"use strict";var s=a("J3Se"),n=a("VU/8"),r=n(null,s.a,!1,null,null,null);e.a=r.exports}});
//# sourceMappingURL=index.ba2bcc3215581fb9c2a6.js.map