webpackJsonp([45],{"7Cm5":function(t,o,e){"use strict";function r(t){e("oNYq")}Object.defineProperty(o,"__esModule",{value:!0});var a=e("vG8E"),i=e("m25Y"),s=e("VU/8"),l=r,n=s(a.a,i.a,!1,l,null,null);o.default=n.exports},Brmx:function(t,o,e){o=t.exports=e("FZ+f")(!1),o.push([t.i,".logo-img-box{width:164px;height:36px;border:1px solid #e2e2e2;margin-bottom:12px}.logo-img-box img{width:100%}",""])},m25Y:function(t,o,e){"use strict";var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Row",[t._v("\n        网站设置\n    ")]),e("Form",{ref:"siteForm",attrs:{model:t.formData,rules:t.formRule,"label-width":120}},[e("FormItem",{attrs:{label:"网站标题",prop:"title"}},[e("Row",[e("Col",{attrs:{span:"12"}},[e("Input",{attrs:{placeholder:"请输入网站标题"},model:{value:t.formData.title,callback:function(o){t.formData.title=o},expression:"formData.title"}})],1)],1)],1),e("FormItem",{attrs:{label:"logo",prop:"logoURL"}},[e("Row",[e("Col",{attrs:{span:"12"}},[e("div",{staticClass:"logo-img-box"},[e("img",{attrs:{src:t.formData.logoURL}})]),e("Upload",{attrs:{action:t.uploadURL,accept:"image/*","show-upload-list":!1,"before-upload":t.beforeUpload,name:"upFile",format:["jpg","jpeg","png"],"on-format-error":t.onFormatError}},[e("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("上传")])],1)],1)],1)],1),e("FormItem",{attrs:{label:"网站关键词",prop:"keywords"}},[e("Row",[e("Col",{attrs:{span:"12"}},[e("Input",{attrs:{placeholder:"请输入网站关键词，以逗号分隔"},model:{value:t.formData.keywords,callback:function(o){t.formData.keywords=o},expression:"formData.keywords"}})],1)],1)],1),e("FormItem",{attrs:{label:"网站描述",prop:"description"}},[e("Row",[e("Col",{attrs:{span:"12"}},[e("Input",{attrs:{placeholder:"请输入网站描述"},model:{value:t.formData.description,callback:function(o){t.formData.description=o},expression:"formData.description"}})],1)],1)],1)],1)],1)},a=[],i={render:r,staticRenderFns:a};o.a=i},oNYq:function(t,o,e){var r=e("Brmx");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e("rjj0")("778e087d",r,!0)},vG8E:function(t,o,e){"use strict";var r=e("FhoZ"),a=e.n(r),i=e("V8bM");o.a={asyncData:function(t){return i.a.getSiteInfo({client:t.req}).then(function(t){var o=t.data.siteConfig;return{uploadURL:a.a.uploadURL,formData:{title:o.title,keywords:o.keywords,description:o.description,logoURL:o.logoURL},formRule:{title:[{required:!0,message:"请输入网站标题",trigger:"blur"}],keywords:[{required:!0,message:"请输入网站关键词",trigger:"blur"}],description:[{required:!0,message:"请输入网站描述",trigger:"blur"}],logoURL:[{required:!0,message:"请上传网站logo",trigger:"blur"}]}}})},methods:{beforeUpload:function(t){t.size>a.a.sizeLimit&&this.$Message.error({duration:a.a.messageDuration,closable:!0,content:"图片大小要小于"+a.a.sizeLimitTip})},onFormatError:function(){this.$Message.error({duration:a.a.messageDuration,closable:!0,content:"不是有效的图片格式"})}},head:function(){return{title:"网站设置"}},layout:"admin"}}});
//# sourceMappingURL=site.746169ca84aec2f4fe73.js.map